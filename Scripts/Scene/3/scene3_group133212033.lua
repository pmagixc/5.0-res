-- 基础信息
local base_info = {
	group_id = 133212033
}

--================================================================
-- 
-- 配置
-- 
--================================================================

-- 怪物
monsters = {
}

-- NPC
npcs = {
}

-- 装置
gadgets = {
	{ config_id = 33001, gadget_id = 70290150, pos = { x = -3909.379, y = 239.260, z = -3096.714 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33002, gadget_id = 70290150, pos = { x = -3911.644, y = 242.896, z = -3083.608 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33003, gadget_id = 70290150, pos = { x = -3926.537, y = 244.310, z = -3074.289 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33004, gadget_id = 70290150, pos = { x = -3935.722, y = 252.899, z = -3062.211 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33005, gadget_id = 70290150, pos = { x = -3944.679, y = 260.006, z = -3053.977 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33006, gadget_id = 70290150, pos = { x = -3946.398, y = 262.007, z = -3039.017 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33007, gadget_id = 70290150, pos = { x = -3952.674, y = 260.105, z = -3030.574 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33008, gadget_id = 70290150, pos = { x = -3957.433, y = 261.004, z = -3045.872 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33009, gadget_id = 70290150, pos = { x = -3954.537, y = 263.797, z = -3067.366 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33010, gadget_id = 70290150, pos = { x = -3951.473, y = 272.104, z = -3078.002 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33011, gadget_id = 70290150, pos = { x = -3946.522, y = 276.534, z = -3089.303 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33012, gadget_id = 70290150, pos = { x = -3941.195, y = 284.395, z = -3101.336 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33015, gadget_id = 70350083, pos = { x = -3974.758, y = 200.267, z = -3043.879 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, persistent = true, area_id = 12 },
	{ config_id = 33016, gadget_id = 70900380, pos = { x = -3968.140, y = 207.078, z = -3056.544 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33017, gadget_id = 70900380, pos = { x = -3956.635, y = 216.305, z = -3065.323 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33018, gadget_id = 70900380, pos = { x = -3948.707, y = 224.723, z = -3074.531 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33019, gadget_id = 70900380, pos = { x = -3940.455, y = 230.785, z = -3086.293 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33020, gadget_id = 70900380, pos = { x = -3927.687, y = 242.476, z = -3095.708 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33021, gadget_id = 70900380, pos = { x = -3910.197, y = 241.083, z = -3088.918 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33022, gadget_id = 70900380, pos = { x = -3922.200, y = 242.919, z = -3078.897 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33023, gadget_id = 70900380, pos = { x = -3934.228, y = 250.255, z = -3066.512 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33024, gadget_id = 70710126, pos = { x = -3929.726, y = 290.916, z = -3127.544 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33025, gadget_id = 70900380, pos = { x = -3956.526, y = 261.338, z = -3055.802 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33026, gadget_id = 70900380, pos = { x = -3952.786, y = 268.725, z = -3072.037 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33027, gadget_id = 70900380, pos = { x = -3948.534, y = 274.711, z = -3085.013 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33028, gadget_id = 70900380, pos = { x = -3944.768, y = 279.726, z = -3094.875 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33029, gadget_id = 70900380, pos = { x = -3940.205, y = 287.242, z = -3107.892 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33030, gadget_id = 70900380, pos = { x = -3919.935, y = 295.173, z = -3127.569 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33031, gadget_id = 70900380, pos = { x = -3941.618, y = 256.772, z = -3058.042 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33032, gadget_id = 70900380, pos = { x = -3945.300, y = 260.556, z = -3043.349 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33033, gadget_id = 70710126, pos = { x = -3908.966, y = 234.404, z = -3102.095 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33034, gadget_id = 70710126, pos = { x = -3952.772, y = 258.085, z = -3025.413 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33035, gadget_id = 70350085, pos = { x = -3908.966, y = 237.487, z = -3102.095 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33036, gadget_id = 70350085, pos = { x = -3952.772, y = 261.676, z = -3025.413 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33037, gadget_id = 70350085, pos = { x = -3929.726, y = 294.250, z = -3127.544 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33038, gadget_id = 70900380, pos = { x = -3954.971, y = 259.031, z = -3039.828 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33039, gadget_id = 70900380, pos = { x = -3911.458, y = 301.826, z = -3125.989 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33040, gadget_id = 70900380, pos = { x = -3908.490, y = 311.308, z = -3121.961 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33041, gadget_id = 70900380, pos = { x = -3903.595, y = 322.555, z = -3123.346 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33042, gadget_id = 70290150, pos = { x = -3970.753, y = 205.254, z = -3052.866 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33043, gadget_id = 70290150, pos = { x = -3961.859, y = 213.671, z = -3059.375 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33044, gadget_id = 70330064, pos = { x = -3973.727, y = 200.142, z = -3049.528 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, interact_id = 35, area_id = 12 },
	{ config_id = 33045, gadget_id = 70330064, pos = { x = -3912.347, y = 235.290, z = -3100.451 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, interact_id = 35, area_id = 12 },
	{ config_id = 33046, gadget_id = 70900380, pos = { x = -3902.373, y = 339.070, z = -3124.817 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33047, gadget_id = 70330064, pos = { x = -3950.312, y = 257.562, z = -3027.328 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, interact_id = 35, area_id = 12 },
	{ config_id = 33048, gadget_id = 70290150, pos = { x = -3950.510, y = 222.953, z = -3070.511 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33049, gadget_id = 70290150, pos = { x = -3946.267, y = 230.601, z = -3080.901 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33050, gadget_id = 70710126, pos = { x = -3876.871, y = 335.153, z = -3114.056 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33051, gadget_id = 70350085, pos = { x = -3876.451, y = 337.925, z = -3114.904 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33052, gadget_id = 70330064, pos = { x = -3871.165, y = 332.632, z = -3112.559 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, interact_id = 35, area_id = 12 },
	{ config_id = 33054, gadget_id = 70900380, pos = { x = -3874.615, y = 338.264, z = -3098.985 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33055, gadget_id = 70900380, pos = { x = -3873.012, y = 333.464, z = -3080.789 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33056, gadget_id = 70900380, pos = { x = -3935.461, y = 291.353, z = -3116.112 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33057, gadget_id = 70900380, pos = { x = -3866.066, y = 323.762, z = -3064.515 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33058, gadget_id = 70360025, pos = { x = -3855.102, y = 310.478, z = -3049.710 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33059, gadget_id = 70350085, pos = { x = -3855.107, y = 313.506, z = -3049.745 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33060, gadget_id = 70290150, pos = { x = -3926.532, y = 296.038, z = -3127.509 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33061, gadget_id = 70290150, pos = { x = -3914.821, y = 297.723, z = -3126.148 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33065, gadget_id = 70290150, pos = { x = -3875.240, y = 336.865, z = -3103.934 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33066, gadget_id = 70290150, pos = { x = -3873.886, y = 335.689, z = -3087.469 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33069, gadget_id = 70290150, pos = { x = -3875.186, y = 337.301, z = -3092.600 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33072, gadget_id = 70290150, pos = { x = -3870.910, y = 330.283, z = -3076.166 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 },
	{ config_id = 33073, gadget_id = 70290150, pos = { x = -3868.020, y = 326.853, z = -3070.070 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 12 }
}

-- 区域
regions = {
	{ config_id = 33014, shape = RegionShape.SPHERE, radius = 5, pos = { x = -3929.656, y = 290.853, z = -3127.600 }, area_id = 12 },
	{ config_id = 33053, shape = RegionShape.SPHERE, radius = 5, pos = { x = -3876.380, y = 334.768, z = -3115.155 }, area_id = 12 },
	{ config_id = 33063, shape = RegionShape.SPHERE, radius = 5, pos = { x = -3855.412, y = 310.507, z = -3049.682 }, area_id = 12 },
	{ config_id = 33067, shape = RegionShape.SPHERE, radius = 3, pos = { x = -3908.966, y = 234.404, z = -3102.095 }, area_id = 12 },
	{ config_id = 33068, shape = RegionShape.SPHERE, radius = 5, pos = { x = -3952.772, y = 258.085, z = -3025.413 }, area_id = 12 }
}

-- 触发器
triggers = {
	{ config_id = 1033013, name = "ANY_GADGET_DIE_33013", event = EventType.EVENT_ANY_GADGET_DIE, source = "", condition = "condition_EVENT_ANY_GADGET_DIE_33013", action = "action_EVENT_ANY_GADGET_DIE_33013", trigger_count = 0 },
	{ config_id = 1033014, name = "ENTER_REGION_33014", event = EventType.EVENT_ENTER_REGION, source = "", condition = "condition_EVENT_ENTER_REGION_33014", action = "action_EVENT_ENTER_REGION_33014" },
	{ config_id = 1033053, name = "ENTER_REGION_33053", event = EventType.EVENT_ENTER_REGION, source = "", condition = "condition_EVENT_ENTER_REGION_33053", action = "action_EVENT_ENTER_REGION_33053" },
	{ config_id = 1033062, name = "GADGET_CREATE_33062", event = EventType.EVENT_GADGET_CREATE, source = "", condition = "condition_EVENT_GADGET_CREATE_33062", action = "action_EVENT_GADGET_CREATE_33062", trigger_count = 0 },
	{ config_id = 1033063, name = "ENTER_REGION_33063", event = EventType.EVENT_ENTER_REGION, source = "", condition = "condition_EVENT_ENTER_REGION_33063", action = "action_EVENT_ENTER_REGION_33063", tag = "183012" },
	{ config_id = 1033064, name = "SELECT_OPTION_33064", event = EventType.EVENT_SELECT_OPTION, source = "", condition = "condition_EVENT_SELECT_OPTION_33064", action = "action_EVENT_SELECT_OPTION_33064", trigger_count = 0 },
	{ config_id = 1033067, name = "ENTER_REGION_33067", event = EventType.EVENT_ENTER_REGION, source = "", condition = "condition_EVENT_ENTER_REGION_33067", action = "action_EVENT_ENTER_REGION_33067" },
	{ config_id = 1033068, name = "ENTER_REGION_33068", event = EventType.EVENT_ENTER_REGION, source = "", condition = "condition_EVENT_ENTER_REGION_33068", action = "action_EVENT_ENTER_REGION_33068" },
	{ config_id = 1033070, name = "CHALLENGE_SUCCESS_33070", event = EventType.EVENT_CHALLENGE_SUCCESS, source = "101", condition = "", action = "action_EVENT_CHALLENGE_SUCCESS_33070" },
	{ config_id = 1033071, name = "CHALLENGE_FAIL_33071", event = EventType.EVENT_CHALLENGE_FAIL, source = "101", condition = "", action = "action_EVENT_CHALLENGE_FAIL_33071", trigger_count = 0 }
}

-- 变量
variables = {
}

--================================================================
-- 
-- 初始化配置
-- 
--================================================================

-- 初始化时创建
init_config = {
	suite = 1,
	end_suite = 0,
	rand_suite = false
}

--================================================================
-- 
-- 小组配置
-- 
--================================================================

suites = {
	{
		-- suite_id = 1,
		-- description = ,
		monsters = { },
		gadgets = { 33015 },
		regions = { },
		triggers = { "ANY_GADGET_DIE_33013", "GADGET_CREATE_33062", "SELECT_OPTION_33064", "CHALLENGE_SUCCESS_33070", "CHALLENGE_FAIL_33071" },
		rand_weight = 100
	},
	{
		-- suite_id = 2,
		-- description = ,
		monsters = { },
		gadgets = { 33016, 33017, 33018, 33019, 33020, 33033, 33035, 33042, 33043, 33044, 33048, 33049 },
		regions = { 33067 },
		triggers = { "ENTER_REGION_33067" },
		rand_weight = 100
	},
	{
		-- suite_id = 3,
		-- description = ,
		monsters = { },
		gadgets = { 33001, 33002, 33003, 33004, 33005, 33006, 33021, 33022, 33023, 33031, 33032, 33034, 33036, 33045 },
		regions = { 33068 },
		triggers = { "ENTER_REGION_33068" },
		rand_weight = 100
	},
	{
		-- suite_id = 4,
		-- description = ,
		monsters = { },
		gadgets = { 33007, 33008, 33009, 33010, 33011, 33012, 33024, 33025, 33026, 33027, 33028, 33029, 33037, 33038, 33047, 33056 },
		regions = { 33014 },
		triggers = { "ENTER_REGION_33014" },
		rand_weight = 100
	},
	{
		-- suite_id = 5,
		-- description = ,
		monsters = { },
		gadgets = { 33030, 33039, 33040, 33041, 33046, 33050, 33051, 33060, 33061 },
		regions = { 33053 },
		triggers = { "ENTER_REGION_33053" },
		rand_weight = 100
	},
	{
		-- suite_id = 6,
		-- description = ,
		monsters = { },
		gadgets = { 33052, 33054, 33055, 33057, 33058, 33059, 33065, 33066, 33069, 33072, 33073 },
		regions = { 33063 },
		triggers = { "ENTER_REGION_33063" },
		rand_weight = 100
	}
}

--================================================================
-- 
-- 触发器
-- 
--================================================================

-- 触发条件
function condition_EVENT_ANY_GADGET_DIE_33013(context, evt)
	if (33001~= evt.param1) and (33002~= evt.param1) and (33003~= evt.param1) and (33004~= evt.param1) and (33005~= evt.param1) and (33006~= evt.param1) and (33007~= evt.param1) and (33008~= evt.param1) and (33009~= evt.param1) and (33010~= evt.param1) and (33011~= evt.param1) and (33012~= evt.param1) and (33042~= evt.param1) and (33043~= evt.param1) and (33048~= evt.param1) and (33049~= evt.param1) and (33060~= evt.param1) and (33061~= evt.param1) and (33065~= evt.param1) and (33066~= evt.param1) and (33069~= evt.param1) and (33072~= evt.param1) and (33073~= evt.param1) then
	  return false
	end
	
	return true
end

-- 触发操作
function action_EVENT_ANY_GADGET_DIE_33013(context, evt)
	-- 增加时间
	  ScriptLib.ModifyFatherChallengeProperty(context, 101, FatherChallengeProperty.DURATION, 5)
	
	return 0
end

-- 触发条件
function condition_EVENT_ENTER_REGION_33014(context, evt)
	if evt.param1 ~= 33014 then return false end
	
	-- 判断角色数量不少于1
	if ScriptLib.GetRegionEntityCount(context, { region_eid = evt.source_eid, entity_type = EntityType.AVATAR }) < 1 then
		return false
	end
	
	return true
end

-- 触发操作
function action_EVENT_ENTER_REGION_33014(context, evt)
	-- 添加suite5的新内容
	    ScriptLib.AddExtraGroupSuite(context, 133212033, 5)
	
	-- 删除suite4的所有内容
	    ScriptLib.RemoveExtraGroupSuite(context, 133212033, 4)
	
	return 0
end

-- 触发条件
function condition_EVENT_ENTER_REGION_33053(context, evt)
	if evt.param1 ~= 33053 then return false end
	
	-- 判断角色数量不少于1
	if ScriptLib.GetRegionEntityCount(context, { region_eid = evt.source_eid, entity_type = EntityType.AVATAR }) < 1 then
		return false
	end
	
	return true
end

-- 触发操作
function action_EVENT_ENTER_REGION_33053(context, evt)
	-- 添加suite6的新内容
	    ScriptLib.AddExtraGroupSuite(context, 133212033, 6)
	
	-- 删除suite5的所有内容
	    ScriptLib.RemoveExtraGroupSuite(context, 133212033, 5)
	
	return 0
end

-- 触发条件
function condition_EVENT_GADGET_CREATE_33062(context, evt)
	if 33015 ~= evt.param1 then
		return false
	end
	
	return true
end

-- 触发操作
function action_EVENT_GADGET_CREATE_33062(context, evt)
	-- 设置操作台选项
	if 0 ~= ScriptLib.SetWorktopOptionsByGroupId(context, 133212033, 33015, {175}) then
	  ScriptLib.PrintContextLog(context, "@@ LUA_WARNING : set_wok_options_by_configid")
		return -1
	end
	
	return 0
end

-- 触发条件
function condition_EVENT_ENTER_REGION_33063(context, evt)
	if evt.param1 ~= 33063 then return false end
	
	-- 判断角色数量不少于1
	if ScriptLib.GetRegionEntityCount(context, { region_eid = evt.source_eid, entity_type = EntityType.AVATAR }) < 1 then
		return false
	end
	
	return true
end

-- 触发操作
function action_EVENT_ENTER_REGION_33063(context, evt)
	-- 终止识别id为101的挑战，并判定成功
		ScriptLib.StopChallenge(context, 101, 1)
	
	return 0
end

-- 触发条件
function condition_EVENT_SELECT_OPTION_33064(context, evt)
	-- 判断是gadgetid 33015 option_id 175
	if 33015 ~= evt.param1 then
		return false	
	end
	
	if 175 ~= evt.param2 then
		return false
	end
	
	
	return true
end

-- 触发操作
function action_EVENT_SELECT_OPTION_33064(context, evt)
	-- 开启操作台时确认当前有没有其他稻妻试炼的飞雷核挑战在进行
	if 0 ~= ScriptLib.GetGroupTempValue(context, "ElectricCorePlayHasStarted", {}) then
	    ScriptLib.ShowReminder(context, 400046)
	    return 0
	end
	
	if true == ScriptLib.CheckIsInMpMode(context) then
	    ScriptLib.ShowReminder(context, 400053)
	        return -1
	end
	-- 删除指定group： 133212033 ；指定config：33015；物件身上指定option：175；
	if 0 ~= ScriptLib.DelWorktopOptionByGroupId(context, 133212033, 33015, 175) then
	  ScriptLib.PrintContextLog(context, "@@ LUA_WARNING : del_work_options_by_group_configId")
	  return -1
	end
	
	-- 将configid为 33015 的物件更改为状态 GadgetState.GearStart
	if 0 ~= ScriptLib.SetGadgetStateByConfigId(context, 33015, GadgetState.GearStart) then
	  ScriptLib.PrintContextLog(context, "@@ LUA_WARNING : set_gadget_state_by_configId")
	    return -1
	  end 
	
	-- 添加suite2的新内容
	    ScriptLib.AddExtraGroupSuite(context, 133212033, 2)
	
	-- 创建编号为111167父挑战，indexID为101
	if 0 ~= ScriptLib.CreateFatherChallenge(context, 101, 111167, 60, {success = 1, fail = 1, fail_on_wipe=true}) then
	        return -1
	end
	
	
	-- 创建编号为111172的子挑战：无用子挑战
	if 0 ~= ScriptLib.AttachChildChallenge(context, 101, 201, 111172, {999,1,1,1},{},{success=0,fail=0}) then
	        return -1
	end
	
	-- 开始父挑战
	if 0 ~= ScriptLib.StartFatherChallenge(context, 101) then
	        return -1
	end
	
	-- 挑战开启将'ElectricCorePlayHasStarted'改为1
	local challenge_groups = {133220053,133220172,133212361,133212185,133212183,133212033}
	    for k,grp_id in pairs(challenge_groups) do
	                ScriptLib.SetGroupTempValue(context, "ElectricCorePlayHasStarted", 1, {group_id = grp_id})
	    end
	
	local uid_list = ScriptLib.GetSceneUidList(context)
	ScriptLib.SetGroupTempValue(context, "optimize_"..uid_list[1], 1, { group_id = 133212033})
	ScriptLib.SetPlayerGroupVisionType(context, {uid_list[1]}, {0})
	
	
	return 0
end

-- 触发条件
function condition_EVENT_ENTER_REGION_33067(context, evt)
	if evt.param1 ~= 33067 then return false end
	
	-- 判断角色数量不少于1
	if ScriptLib.GetRegionEntityCount(context, { region_eid = evt.source_eid, entity_type = EntityType.AVATAR }) < 1 then
		return false
	end
	
	return true
end

-- 触发操作
function action_EVENT_ENTER_REGION_33067(context, evt)
	-- 添加suite3的新内容
	    ScriptLib.AddExtraGroupSuite(context, 133212033, 3)
	
	-- 删除suite2的所有内容
	    ScriptLib.RemoveExtraGroupSuite(context, 133212033, 2)
	
	return 0
end

-- 触发条件
function condition_EVENT_ENTER_REGION_33068(context, evt)
	if evt.param1 ~= 33068 then return false end
	
	-- 判断角色数量不少于1
	if ScriptLib.GetRegionEntityCount(context, { region_eid = evt.source_eid, entity_type = EntityType.AVATAR }) < 1 then
		return false
	end
	
	return true
end

-- 触发操作
function action_EVENT_ENTER_REGION_33068(context, evt)
	-- 添加suite4的新内容
	    ScriptLib.AddExtraGroupSuite(context, 133212033, 4)
	
	-- 删除suite3的所有内容
	    ScriptLib.RemoveExtraGroupSuite(context, 133212033, 3)
	
	return 0
end

-- 触发操作
function action_EVENT_CHALLENGE_SUCCESS_33070(context, evt)
	-- 挑战结束将'ElectricCorePlayHasStarted'改为0
	local challenge_groups = {133220053,133220172,133212361,133212185,133212183,133212033}
	    for k,grp_id in pairs(challenge_groups) do
	                ScriptLib.SetGroupTempValue(context, "ElectricCorePlayHasStarted", 0, {group_id = grp_id})
	    end
	
	
	local uid_list = ScriptLib.GetSceneUidList(context)
	       	ScriptLib.SetGroupTempValue(context, "optimize_"..uid_list[1], 0, { group_id = 133212033})
	
		-- 重新生成指定group，指定suite
		if 0 ~= ScriptLib.RefreshGroup(context, { group_id = 133212033, suite = 1 }) then
	    ScriptLib.PrintContextLog(context, "@@ LUA_WARNING : refresh_group_to_suite")
			return -1
		end
	
	
	return 0
end

-- 触发操作
function action_EVENT_CHALLENGE_FAIL_33071(context, evt)
	-- 挑战结束将'ElectricCorePlayHasStarted'改为0
	local challenge_groups = {133220053,133220172,133212361,133212185,133212183,133212033}
	    for k,grp_id in pairs(challenge_groups) do
	                ScriptLib.SetGroupTempValue(context, "ElectricCorePlayHasStarted", 0, {group_id = grp_id})
	    end
	
	
	        local uid_list = ScriptLib.GetSceneUidList(context)
	        ScriptLib.SetGroupTempValue(context, "optimize_"..uid_list[1], 0, { group_id = 133212033})
	
		-- 重新生成指定group，指定suite
		if 0 ~= ScriptLib.RefreshGroup(context, { group_id = 133212033, suite = 1 }) then
	    ScriptLib.PrintContextLog(context, "@@ LUA_WARNING : refresh_group_to_suite")
			return -1
		end
	
	
	return 0
end

require "V2_0/ElectricCore"