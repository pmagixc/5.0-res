-- 基础信息
local base_info = {
	group_id = 133104029
}

--================================================================
-- 
-- 配置
-- 
--================================================================

-- 怪物
monsters = {
}

-- NPC
npcs = {
}

-- 装置
gadgets = {
	{ config_id = 29001, gadget_id = 70350083, pos = { x = 551.962, y = 247.840, z = 929.883 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 24, area_id = 6 },
	{ config_id = 29007, gadget_id = 70360094, pos = { x = 867.163, y = 238.915, z = 678.226 }, rot = { x = 338.469, y = 175.536, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29008, gadget_id = 70690014, pos = { x = 580.204, y = 240.154, z = 927.280 }, rot = { x = 359.641, y = 168.282, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29009, gadget_id = 70360094, pos = { x = 866.925, y = 240.509, z = 674.329 }, rot = { x = 338.886, y = 173.817, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29011, gadget_id = 70360094, pos = { x = 868.225, y = 242.703, z = 669.180 }, rot = { x = 341.126, y = 170.066, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29012, gadget_id = 70360094, pos = { x = 868.855, y = 244.908, z = 663.789 }, rot = { x = 351.923, y = 162.785, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29013, gadget_id = 70360094, pos = { x = 870.352, y = 246.032, z = 655.961 }, rot = { x = 351.923, y = 162.785, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29014, gadget_id = 70360025, pos = { x = 912.468, y = 200.378, z = 549.869 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29016, gadget_id = 70690001, pos = { x = 630.853, y = 230.651, z = 866.981 }, rot = { x = 0.350, y = 125.957, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29017, gadget_id = 70360094, pos = { x = 877.650, y = 245.569, z = 640.118 }, rot = { x = 17.190, y = 149.094, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29018, gadget_id = 70690001, pos = { x = 655.311, y = 230.513, z = 863.826 }, rot = { x = 0.383, y = 68.730, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29019, gadget_id = 70690001, pos = { x = 669.205, y = 230.414, z = 869.234 }, rot = { x = 0.581, y = 61.274, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29020, gadget_id = 70360094, pos = { x = 881.575, y = 243.205, z = 633.561 }, rot = { x = 17.190, y = 149.095, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29021, gadget_id = 70690014, pos = { x = 692.780, y = 229.707, z = 881.306 }, rot = { x = 358.096, y = 62.880, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29022, gadget_id = 70360094, pos = { x = 885.501, y = 240.840, z = 627.003 }, rot = { x = 9.628, y = 150.442, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29023, gadget_id = 70690001, pos = { x = 712.587, y = 230.522, z = 882.799 }, rot = { x = 359.500, y = 135.072, z = 0.435 }, level = 19, area_id = 6 },
	{ config_id = 29024, gadget_id = 70360094, pos = { x = 889.384, y = 239.505, z = 620.156 }, rot = { x = 7.945, y = 150.732, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29025, gadget_id = 70690001, pos = { x = 727.587, y = 232.562, z = 868.588 }, rot = { x = 353.504, y = 143.616, z = 353.956 }, level = 19, area_id = 6 },
	{ config_id = 29026, gadget_id = 70360094, pos = { x = 893.258, y = 238.399, z = 613.244 }, rot = { x = 7.945, y = 150.732, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29027, gadget_id = 70690014, pos = { x = 741.287, y = 235.938, z = 851.614 }, rot = { x = 4.876, y = 143.434, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29028, gadget_id = 70690001, pos = { x = 757.381, y = 235.688, z = 832.244 }, rot = { x = 354.885, y = 136.119, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29029, gadget_id = 70360094, pos = { x = 897.131, y = 237.293, z = 606.333 }, rot = { x = 7.945, y = 150.732, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29030, gadget_id = 70690014, pos = { x = 768.793, y = 235.662, z = 817.253 }, rot = { x = 2.598, y = 159.434, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29031, gadget_id = 70690001, pos = { x = 773.942, y = 234.997, z = 803.528 }, rot = { x = 0.295, y = 169.670, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29032, gadget_id = 70690001, pos = { x = 776.605, y = 234.921, z = 788.921 }, rot = { x = 354.624, y = 126.491, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29034, gadget_id = 70690001, pos = { x = 795.122, y = 237.137, z = 767.749 }, rot = { x = 358.562, y = 170.454, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29036, gadget_id = 70690001, pos = { x = 807.363, y = 236.250, z = 742.876 }, rot = { x = 5.145, y = 135.956, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29037, gadget_id = 70690001, pos = { x = 819.070, y = 237.576, z = 734.480 }, rot = { x = 1.486, y = 112.867, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29039, gadget_id = 70690014, pos = { x = 846.164, y = 236.758, z = 722.046 }, rot = { x = 2.479, y = 136.231, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29040, gadget_id = 70690014, pos = { x = 856.531, y = 236.109, z = 711.224 }, rot = { x = 359.381, y = 156.882, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29041, gadget_id = 70690001, pos = { x = 862.215, y = 236.265, z = 697.910 }, rot = { x = 357.841, y = 160.154, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29042, gadget_id = 70690001, pos = { x = 867.071, y = 236.805, z = 684.455 }, rot = { x = 359.290, y = 174.676, z = 359.045 }, level = 19, area_id = 6 },
	{ config_id = 29044, gadget_id = 70690001, pos = { x = 882.046, y = 237.543, z = 668.994 }, rot = { x = 357.052, y = 180.584, z = 0.619 }, level = 19, area_id = 6 },
	{ config_id = 29046, gadget_id = 70690001, pos = { x = 884.723, y = 236.971, z = 653.772 }, rot = { x = 0.762, y = 165.718, z = 358.079 }, level = 19, area_id = 6 },
	{ config_id = 29048, gadget_id = 70690001, pos = { x = 890.916, y = 236.760, z = 635.231 }, rot = { x = 0.791, y = 166.598, z = 358.090 }, level = 19, area_id = 6 },
	{ config_id = 29051, gadget_id = 70690001, pos = { x = 895.779, y = 235.686, z = 621.400 }, rot = { x = 359.696, y = 163.162, z = 359.626 }, level = 19, area_id = 6 },
	{ config_id = 29053, gadget_id = 70690001, pos = { x = 900.949, y = 235.791, z = 601.410 }, rot = { x = 359.584, y = 141.208, z = 359.814 }, level = 19, area_id = 6 },
	{ config_id = 29054, gadget_id = 70690014, pos = { x = 905.969, y = 235.899, z = 591.590 }, rot = { x = 0.098, y = 155.382, z = 359.950 }, level = 19, area_id = 6 },
	{ config_id = 29055, gadget_id = 70690001, pos = { x = 909.352, y = 235.878, z = 580.715 }, rot = { x = 0.107, y = 167.691, z = 359.972 }, level = 19, area_id = 6 },
	{ config_id = 29057, gadget_id = 70900201, pos = { x = 912.534, y = 200.363, z = 548.973 }, rot = { x = 0.110, y = 182.228, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29058, gadget_id = 70360096, pos = { x = 586.574, y = 239.530, z = 915.809 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 19, route_id = 310400280, area_id = 6 },
	{ config_id = 29059, gadget_id = 70360094, pos = { x = 589.858, y = 239.507, z = 913.603 }, rot = { x = 357.084, y = 138.826, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29060, gadget_id = 70360094, pos = { x = 591.684, y = 239.648, z = 911.515 }, rot = { x = 357.084, y = 138.826, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29061, gadget_id = 70360094, pos = { x = 594.971, y = 239.902, z = 907.757 }, rot = { x = 357.084, y = 138.826, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29062, gadget_id = 70360094, pos = { x = 598.259, y = 240.157, z = 903.998 }, rot = { x = 357.084, y = 138.825, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29063, gadget_id = 70360094, pos = { x = 601.546, y = 240.411, z = 900.239 }, rot = { x = 356.928, y = 138.781, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29064, gadget_id = 70360094, pos = { x = 604.836, y = 240.679, z = 896.484 }, rot = { x = 356.032, y = 138.518, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29065, gadget_id = 70360094, pos = { x = 608.140, y = 241.025, z = 892.747 }, rot = { x = 356.032, y = 138.518, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29066, gadget_id = 70360094, pos = { x = 611.444, y = 241.371, z = 889.010 }, rot = { x = 356.032, y = 138.518, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29067, gadget_id = 70360094, pos = { x = 614.748, y = 241.717, z = 885.273 }, rot = { x = 356.032, y = 138.518, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29068, gadget_id = 70690014, pos = { x = 615.675, y = 228.642, z = 883.945 }, rot = { x = 0.000, y = 141.216, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29069, gadget_id = 70360094, pos = { x = 558.707, y = 247.929, z = 935.832 }, rot = { x = 42.810, y = 50.415, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29070, gadget_id = 70360094, pos = { x = 562.049, y = 245.252, z = 938.595 }, rot = { x = 42.810, y = 50.415, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29071, gadget_id = 70360094, pos = { x = 565.229, y = 243.672, z = 940.631 }, rot = { x = 41.015, y = 63.318, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29072, gadget_id = 70360094, pos = { x = 568.182, y = 241.403, z = 941.045 }, rot = { x = 17.295, y = 111.910, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29073, gadget_id = 70360094, pos = { x = 572.675, y = 240.471, z = 938.959 }, rot = { x = 17.295, y = 111.911, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29074, gadget_id = 70360094, pos = { x = 575.315, y = 241.592, z = 936.876 }, rot = { x = 8.581, y = 152.456, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29075, gadget_id = 70360094, pos = { x = 577.999, y = 242.151, z = 933.053 }, rot = { x = 8.581, y = 152.456, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29078, gadget_id = 70360094, pos = { x = 707.600, y = 230.261, z = 887.294 }, rot = { x = 356.840, y = 139.192, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29079, gadget_id = 70360094, pos = { x = 714.544, y = 230.733, z = 880.988 }, rot = { x = 358.151, y = 157.353, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29080, gadget_id = 70360094, pos = { x = 719.455, y = 230.918, z = 876.842 }, rot = { x = 358.151, y = 157.353, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29083, gadget_id = 70360094, pos = { x = 723.928, y = 231.781, z = 871.869 }, rot = { x = 353.458, y = 100.287, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29084, gadget_id = 70360096, pos = { x = 734.460, y = 233.753, z = 859.734 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 19, route_id = 310400281, area_id = 6 },
	{ config_id = 29085, gadget_id = 70360094, pos = { x = 735.087, y = 234.742, z = 858.841 }, rot = { x = 302.558, y = 140.655, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29086, gadget_id = 70360094, pos = { x = 736.793, y = 238.956, z = 856.760 }, rot = { x = 339.560, y = 139.973, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29087, gadget_id = 70360094, pos = { x = 739.450, y = 240.496, z = 853.596 }, rot = { x = 0.791, y = 139.752, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29088, gadget_id = 70360094, pos = { x = 742.680, y = 240.427, z = 849.780 }, rot = { x = 0.965, y = 139.779, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29089, gadget_id = 70360094, pos = { x = 745.905, y = 240.343, z = 845.967 }, rot = { x = 37.186, y = 146.368, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29090, gadget_id = 70360094, pos = { x = 748.112, y = 237.321, z = 842.650 }, rot = { x = 37.186, y = 146.368, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29091, gadget_id = 70360096, pos = { x = 772.224, y = 226.640, z = 803.740 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 19, route_id = 310400282, area_id = 6 },
	{ config_id = 29092, gadget_id = 70690016, pos = { x = 772.577, y = 186.114, z = 792.871 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29093, gadget_id = 70360094, pos = { x = 819.112, y = 237.283, z = 734.478 }, rot = { x = 0.655, y = 112.104, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29094, gadget_id = 70360094, pos = { x = 823.744, y = 237.226, z = 732.597 }, rot = { x = 0.655, y = 112.103, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29095, gadget_id = 70360094, pos = { x = 828.376, y = 237.169, z = 730.716 }, rot = { x = 0.655, y = 112.104, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29096, gadget_id = 70360094, pos = { x = 833.009, y = 237.111, z = 728.834 }, rot = { x = 339.978, y = 117.035, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29097, gadget_id = 70360094, pos = { x = 837.188, y = 238.821, z = 726.702 }, rot = { x = 339.620, y = 117.128, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29098, gadget_id = 70360094, pos = { x = 841.359, y = 240.563, z = 724.564 }, rot = { x = 339.620, y = 117.129, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29099, gadget_id = 70360094, pos = { x = 845.531, y = 242.304, z = 722.427 }, rot = { x = 1.446, y = 133.905, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29100, gadget_id = 70360096, pos = { x = 850.821, y = 242.210, z = 717.493 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 19, route_id = 310400283, area_id = 6 },
	{ config_id = 29102, gadget_id = 70360094, pos = { x = 856.054, y = 241.500, z = 711.865 }, rot = { x = 18.153, y = 154.581, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29103, gadget_id = 70360094, pos = { x = 858.076, y = 239.955, z = 707.611 }, rot = { x = 19.530, y = 156.652, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29104, gadget_id = 70360094, pos = { x = 859.944, y = 238.284, z = 703.284 }, rot = { x = 19.530, y = 156.653, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29105, gadget_id = 70360094, pos = { x = 861.811, y = 236.612, z = 698.958 }, rot = { x = 19.530, y = 156.653, z = 0.000 }, level = 19, area_id = 6 },
	{ config_id = 29113, gadget_id = 70360096, pos = { x = 874.576, y = 247.149, z = 645.229 }, rot = { x = 20.149, y = 167.801, z = 0.000 }, level = 19, route_id = 310400284, area_id = 6 }
}

-- 区域
regions = {
	{ config_id = 29049, shape = RegionShape.SPHERE, radius = 23.4, pos = { x = 671.121, y = 229.998, z = 871.709 }, area_id = 6 },
	{ config_id = 29076, shape = RegionShape.SPHERE, radius = 5, pos = { x = 771.558, y = 223.546, z = 802.599 }, area_id = 6 },
	{ config_id = 29112, shape = RegionShape.SPHERE, radius = 14.5, pos = { x = 796.102, y = 243.933, z = 754.296 }, area_id = 6 },
	{ config_id = 29114, shape = RegionShape.SPHERE, radius = 11.7, pos = { x = 911.974, y = 203.251, z = 548.846 }, area_id = 6 }
}

-- 触发器
triggers = {
	{ config_id = 1029002, name = "GADGET_CREATE_29002", event = EventType.EVENT_GADGET_CREATE, source = "", condition = "condition_EVENT_GADGET_CREATE_29002", action = "action_EVENT_GADGET_CREATE_29002", trigger_count = 0 },
	{ config_id = 1029003, name = "SELECT_OPTION_29003", event = EventType.EVENT_SELECT_OPTION, source = "", condition = "condition_EVENT_SELECT_OPTION_29003", action = "action_EVENT_SELECT_OPTION_29003", trigger_count = 0 },
	{ config_id = 1029004, name = "CHALLENGE_SUCCESS_29004", event = EventType.EVENT_CHALLENGE_SUCCESS, source = "2008", condition = "", action = "action_EVENT_CHALLENGE_SUCCESS_29004", trigger_count = 0 },
	{ config_id = 1029005, name = "CHALLENGE_FAIL_29005", event = EventType.EVENT_CHALLENGE_FAIL, source = "2008", condition = "", action = "action_EVENT_CHALLENGE_FAIL_29005", trigger_count = 0 },
	{ config_id = 1029049, name = "ENTER_REGION_29049", event = EventType.EVENT_ENTER_REGION, source = "", condition = "condition_EVENT_ENTER_REGION_29049", action = "action_EVENT_ENTER_REGION_29049" },
	{ config_id = 1029076, name = "ENTER_REGION_29076", event = EventType.EVENT_ENTER_REGION, source = "", condition = "condition_EVENT_ENTER_REGION_29076", action = "action_EVENT_ENTER_REGION_29076" },
	{ config_id = 1029112, name = "ENTER_REGION_29112", event = EventType.EVENT_ENTER_REGION, source = "", condition = "condition_EVENT_ENTER_REGION_29112", action = "action_EVENT_ENTER_REGION_29112" },
	{ config_id = 1029114, name = "ENTER_REGION_29114", event = EventType.EVENT_ENTER_REGION, source = "", condition = "condition_EVENT_ENTER_REGION_29114", action = "", tag = "666" },
	{ config_id = 1029121, name = "ANY_GADGET_DIE_29121", event = EventType.EVENT_ANY_GADGET_DIE, source = "", condition = "condition_EVENT_ANY_GADGET_DIE_29121", action = "", trigger_count = 0, tag = "888" }
}

-- 变量
variables = {
}

--================================================================
-- 
-- 初始化配置
-- 
--================================================================

-- 初始化时创建
init_config = {
	suite = 1,
	end_suite = 0,
	rand_suite = false
}

--================================================================
-- 
-- 小组配置
-- 
--================================================================

suites = {
	{
		-- suite_id = 1,
		-- description = ,
		monsters = { },
		gadgets = { 29001 },
		regions = { },
		triggers = { "GADGET_CREATE_29002", "SELECT_OPTION_29003" },
		rand_weight = 100
	},
	{
		-- suite_id = 2,
		-- description = ,
		monsters = { },
		gadgets = { 29008, 29016, 29018, 29019, 29058, 29059, 29060, 29061, 29062, 29063, 29064, 29065, 29066, 29067, 29068, 29069, 29070, 29071, 29072, 29073, 29074, 29075 },
		regions = { },
		triggers = { },
		rand_weight = 100
	},
	{
		-- suite_id = 3,
		-- description = ,
		monsters = { },
		gadgets = { 29021, 29023, 29025, 29027, 29028, 29030, 29031, 29032, 29034, 29036, 29078, 29079, 29080, 29083, 29084, 29085, 29086, 29087, 29088, 29089, 29090, 29091 },
		regions = { 29076 },
		triggers = { "ENTER_REGION_29076" },
		rand_weight = 100
	},
	{
		-- suite_id = 4,
		-- description = ,
		monsters = { },
		gadgets = { 29007, 29009, 29011, 29012, 29013, 29014, 29017, 29020, 29022, 29024, 29026, 29029, 29037, 29039, 29040, 29041, 29042, 29044, 29046, 29048, 29051, 29053, 29054, 29055, 29057, 29093, 29094, 29095, 29096, 29097, 29098, 29099, 29100, 29102, 29103, 29104, 29105, 29113 },
		regions = { },
		triggers = { },
		rand_weight = 100
	},
	{
		-- suite_id = 5,
		-- description = ,
		monsters = { },
		gadgets = { },
		regions = { 29049, 29112, 29114 },
		triggers = { "CHALLENGE_SUCCESS_29004", "CHALLENGE_FAIL_29005", "ENTER_REGION_29049", "ENTER_REGION_29112", "ENTER_REGION_29114", "ANY_GADGET_DIE_29121" },
		rand_weight = 100
	},
	{
		-- suite_id = 6,
		-- description = ,
		monsters = { },
		gadgets = { 29092 },
		regions = { },
		triggers = { },
		rand_weight = 100
	},
	{
		-- suite_id = 7,
		-- description = ,
		monsters = { },
		gadgets = { },
		regions = { },
		triggers = { },
		rand_weight = 100
	},
	{
		-- suite_id = 8,
		-- description = ,
		monsters = { },
		gadgets = { },
		regions = { },
		triggers = { },
		rand_weight = 100
	},
	{
		-- suite_id = 9,
		-- description = ,
		monsters = { },
		gadgets = { },
		regions = { },
		triggers = { },
		rand_weight = 100
	},
	{
		-- suite_id = 10,
		-- description = ,
		monsters = { },
		gadgets = { },
		regions = { },
		triggers = { },
		rand_weight = 100
	}
}

--================================================================
-- 
-- 触发器
-- 
--================================================================

-- 触发条件
function condition_EVENT_GADGET_CREATE_29002(context, evt)
	if 29001 ~= evt.param1 then
		return false
	end
	
	return true
end

-- 触发操作
function action_EVENT_GADGET_CREATE_29002(context, evt)
	-- 设置操作台选项
	if 0 ~= ScriptLib.SetWorktopOptionsByGroupId(context, 133104029, 29001, {2}) then
	  ScriptLib.PrintContextLog(context, "@@ LUA_WARNING : set_wok_options_by_configid")
		return -1
	end
	
	return 0
end

-- 触发条件
function condition_EVENT_SELECT_OPTION_29003(context, evt)
	-- 判断是gadgetid 29001 option_id 2
	if 29001 ~= evt.param1 then
		return false	
	end
	
	if 2 ~= evt.param2 then
		return false
	end
	
	
	return true
end

-- 触发操作
function action_EVENT_SELECT_OPTION_29003(context, evt)
	-- 添加suite2的新内容
	    ScriptLib.AddExtraGroupSuite(context, 133104029, 2)
	
	-- 添加suite5的新内容
	    ScriptLib.AddExtraGroupSuite(context, 133104029, 5)
	
	-- 删除指定group： 133104029 ；指定config：29001；物件身上指定option：2；
	if 0 ~= ScriptLib.DelWorktopOptionByGroupId(context, 133104029, 29001, 2) then
		return -1
	end
	
	-- 触发镜头注目，注目位置为坐标（558，248，935），持续时间为2秒，并且为强制注目形式，不广播其他玩家
		local pos = {x=558, y=248, z=935}
	    if 0 ~= ScriptLib.BeginCameraSceneLook(context, { look_pos = pos, duration = 2, is_force = true, is_broadcast = false, is_recover_keep_current = true, delay = 0 }) then
					return -1
				end 
	
	-- 创建编号为666（该挑战的识别id),挑战内容为127的区域挑战，具体参数填写方式，见DungeonChallengeData表中的注释，所有填写的值都必须是int类型
	ScriptLib.CreateFatherChallenge(context, 2008, 2008, 181, {success = 1, fail = 1})
	ScriptLib.AttachChildChallenge(context, 2008, 2009, 2009,{0,4, 666,1},{},{success=1,fail=1})
	ScriptLib.AttachChildChallenge(context, 2008, 2010, 2010,{0,2, 888,5},{},{success=0,fail=0})
	ScriptLib.StartFatherChallenge(context, 2008)
	ScriptLib.SetChallengeEventMark(context, 2008, ChallengeEventMarkType.FLIGHT_TIME)
	ScriptLib.SetChallengeEventMark(context, 2010, ChallengeEventMarkType.FLIGHT_GATHER_POINT)
	
	return 0
end

-- 触发操作
function action_EVENT_CHALLENGE_SUCCESS_29004(context, evt)
		-- 重新生成指定group，指定suite
		if 0 ~= ScriptLib.RefreshGroup(context, { group_id = 133104029, suite = 1 }) then
	    ScriptLib.PrintContextLog(context, "@@ LUA_WARNING : refresh_group_to_suite")
			return -1
		end
	
	return 0
end

-- 触发操作
function action_EVENT_CHALLENGE_FAIL_29005(context, evt)
		-- 重新生成指定group，指定suite
		if 0 ~= ScriptLib.RefreshGroup(context, { group_id = 133104029, suite = 1 }) then
	    ScriptLib.PrintContextLog(context, "@@ LUA_WARNING : refresh_group_to_suite")
			return -1
		end
	
	return 0
end

-- 触发条件
function condition_EVENT_ENTER_REGION_29049(context, evt)
	if evt.param1 ~= 29049 then return false end
	
	-- 判断角色数量不少于1
	if ScriptLib.GetRegionEntityCount(context, { region_eid = evt.source_eid, entity_type = EntityType.AVATAR }) < 1 then
		return false
	end
	
	return true
end

-- 触发操作
function action_EVENT_ENTER_REGION_29049(context, evt)
	-- 添加suite3的新内容
	    ScriptLib.AddExtraGroupSuite(context, 133104029, 3)
	
	return 0
end

-- 触发条件
function condition_EVENT_ENTER_REGION_29076(context, evt)
	if evt.param1 ~= 29076 then return false end
	
	-- 判断角色数量不少于1
	if ScriptLib.GetRegionEntityCount(context, { region_eid = evt.source_eid, entity_type = EntityType.AVATAR }) < 1 then
		return false
	end
	
	return true
end

-- 触发操作
function action_EVENT_ENTER_REGION_29076(context, evt)
	-- 添加suite6的新内容
	    ScriptLib.AddExtraGroupSuite(context, 133104029, 6)
	
	return 0
end

-- 触发条件
function condition_EVENT_ENTER_REGION_29112(context, evt)
	if evt.param1 ~= 29112 then return false end
	
	-- 判断角色数量不少于1
	if ScriptLib.GetRegionEntityCount(context, { region_eid = evt.source_eid, entity_type = EntityType.AVATAR }) < 1 then
		return false
	end
	
	return true
end

-- 触发操作
function action_EVENT_ENTER_REGION_29112(context, evt)
	-- 添加suite4的新内容
	    ScriptLib.AddExtraGroupSuite(context, 133104029, 4)
	
	-- 删除suite2的所有内容
	    ScriptLib.RemoveExtraGroupSuite(context, 133104029, 2)
	
	return 0
end

-- 触发条件
function condition_EVENT_ENTER_REGION_29114(context, evt)
	if evt.param1 ~= 29114 then return false end
	
	-- 判断角色数量不少于1
	if ScriptLib.GetRegionEntityCount(context, { region_eid = evt.source_eid, entity_type = EntityType.AVATAR }) < 1 then
		return false
	end
	
	return true
end

-- 触发条件
function condition_EVENT_ANY_GADGET_DIE_29121(context, evt)
	if (29058 == evt.param1)  or (29084 == evt.param1) or (29091 == evt.param1) or (29113 == evt.param1) or (29100 == evt.param1) then
	    return true
	end
	
	return false
end

require "FlyChallenge"