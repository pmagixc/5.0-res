-- 基础信息
local base_info = {
	group_id = 133212152
}

--================================================================
-- 
-- 配置
-- 
--================================================================

-- 怪物
monsters = {
	{ config_id = 152017, monster_id = 25080201, pos = { x = -3603.860, y = 250.972, z = -2213.114 }, rot = { x = 0.000, y = 127.875, z = 0.000 }, level = 27, drop_id = 1000100, affix = { 1101 }, pose_id = 1, area_id = 13 },
	{ config_id = 152018, monster_id = 25080301, pos = { x = -3600.337, y = 250.657, z = -2212.075 }, rot = { x = 0.000, y = 183.934, z = 0.000 }, level = 27, drop_id = 1000100, affix = { 1101 }, pose_id = 1, area_id = 13 },
	{ config_id = 152021, monster_id = 25080301, pos = { x = -3558.492, y = 235.966, z = -2324.642 }, rot = { x = 0.000, y = 260.381, z = 0.000 }, level = 27, drop_id = 1000100, affix = { 1101 }, pose_id = 1, area_id = 13 },
	{ config_id = 152022, monster_id = 25080301, pos = { x = -3564.228, y = 235.956, z = -2325.122 }, rot = { x = 59.805, y = 0.000, z = 0.000 }, level = 27, drop_id = 1000100, affix = { 1101 }, pose_id = 1, area_id = 13 },
	{ config_id = 152023, monster_id = 25080301, pos = { x = -3558.240, y = 237.014, z = -2327.553 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 27, drop_id = 1000100, affix = { 1101 }, pose_id = 1, area_id = 13 }
}

-- NPC
npcs = {
}

-- 装置
gadgets = {
	{ config_id = 152001, gadget_id = 70290135, pos = { x = -3628.666, y = 249.644, z = -2167.561 }, rot = { x = 0.000, y = 104.151, z = 0.000 }, level = 27, area_id = 13 },
	{ config_id = 152002, gadget_id = 70290135, pos = { x = -3606.021, y = 253.383, z = -2174.380 }, rot = { x = 0.000, y = 101.119, z = 0.000 }, level = 27, area_id = 13 },
	{ config_id = 152003, gadget_id = 70290135, pos = { x = -3580.912, y = 249.794, z = -2173.024 }, rot = { x = 0.000, y = 68.144, z = 0.000 }, level = 27, area_id = 13 },
	{ config_id = 152004, gadget_id = 70290135, pos = { x = -3552.378, y = 238.690, z = -2164.414 }, rot = { x = 0.000, y = 152.500, z = 0.000 }, level = 27, area_id = 13 },
	{ config_id = 152005, gadget_id = 70290135, pos = { x = -3541.175, y = 234.108, z = -2194.695 }, rot = { x = 0.000, y = 79.010, z = 0.000 }, level = 27, area_id = 13 },
	{ config_id = 152006, gadget_id = 70290135, pos = { x = -3509.857, y = 216.845, z = -2172.965 }, rot = { x = 7.338, y = 53.444, z = 24.369 }, level = 27, area_id = 13 },
	{ config_id = 152012, gadget_id = 70500000, pos = { x = -3462.138, y = 209.836, z = -2138.023 }, rot = { x = 279.141, y = 110.381, z = 249.752 }, level = 27, point_type = 9176, area_id = 13 },
	{ config_id = 152014, gadget_id = 70500000, pos = { x = -3602.579, y = 251.139, z = -2214.578 }, rot = { x = 293.481, y = 178.933, z = 176.943 }, level = 27, point_type = 9177, area_id = 13 },
	{ config_id = 152020, gadget_id = 70500000, pos = { x = -3561.166, y = 236.619, z = -2325.532 }, rot = { x = 299.064, y = 2.862, z = 60.906 }, level = 27, point_type = 9178, area_id = 13 },
	{ config_id = 152027, gadget_id = 70290135, pos = { x = -3607.765, y = 254.003, z = -2240.198 }, rot = { x = 0.000, y = 175.021, z = 0.000 }, level = 27, area_id = 13 },
	{ config_id = 152028, gadget_id = 70290135, pos = { x = -3600.018, y = 253.260, z = -2263.040 }, rot = { x = 0.000, y = 161.975, z = 0.000 }, level = 27, area_id = 13 },
	{ config_id = 152029, gadget_id = 70290135, pos = { x = -3589.638, y = 250.529, z = -2293.679 }, rot = { x = 0.000, y = 155.735, z = 0.000 }, level = 27, area_id = 13 },
	{ config_id = 152030, gadget_id = 70290135, pos = { x = -3567.715, y = 239.269, z = -2317.782 }, rot = { x = 0.000, y = 130.916, z = 0.000 }, level = 27, area_id = 13 },
	{ config_id = 152031, gadget_id = 70290135, pos = { x = -3590.011, y = 252.563, z = -2189.327 }, rot = { x = 0.000, y = 178.496, z = 0.000 }, level = 27, area_id = 13 },
	{ config_id = 152032, gadget_id = 70290135, pos = { x = -3602.661, y = 250.250, z = -2218.425 }, rot = { x = 0.000, y = 211.956, z = 0.000 }, level = 27, area_id = 13 },
	{ config_id = 152034, gadget_id = 70290135, pos = { x = -3550.322, y = 236.704, z = -2313.179 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 27, area_id = 13 },
	{ config_id = 152035, gadget_id = 70290135, pos = { x = -3527.950, y = 229.791, z = -2285.658 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 27, area_id = 13 },
	{ config_id = 152036, gadget_id = 70290135, pos = { x = -3520.800, y = 230.727, z = -2249.094 }, rot = { x = 0.000, y = 35.896, z = 0.000 }, level = 27, area_id = 13 },
	{ config_id = 152037, gadget_id = 70290135, pos = { x = -3538.799, y = 235.564, z = -2220.691 }, rot = { x = 354.578, y = 28.701, z = 357.039 }, level = 27, area_id = 13 }
}

-- 区域
regions = {
}

-- 触发器
triggers = {
	{ config_id = 1152024, name = "ANY_GADGET_DIE_152024", event = EventType.EVENT_ANY_GADGET_DIE, source = "", condition = "condition_EVENT_ANY_GADGET_DIE_152024", action = "action_EVENT_ANY_GADGET_DIE_152024" },
	{ config_id = 1152025, name = "ANY_GADGET_DIE_152025", event = EventType.EVENT_ANY_GADGET_DIE, source = "", condition = "condition_EVENT_ANY_GADGET_DIE_152025", action = "action_EVENT_ANY_GADGET_DIE_152025" },
	{ config_id = 1152026, name = "ANY_GADGET_DIE_152026", event = EventType.EVENT_ANY_GADGET_DIE, source = "", condition = "condition_EVENT_ANY_GADGET_DIE_152026", action = "action_EVENT_ANY_GADGET_DIE_152026" },
	{ config_id = 1152038, name = "QUEST_FINISH_152038", event = EventType.EVENT_QUEST_FINISH, source = "7213908", condition = "", action = "" }
}

-- 变量
variables = {
}

-- 废弃数据
garbages = {
	triggers = {
		{ config_id = 1152033, name = "GADGET_CREATE_152033", event = EventType.EVENT_GADGET_CREATE, source = "", condition = "condition_EVENT_GADGET_CREATE_152033", action = "" }
	}
}

--================================================================
-- 
-- 初始化配置
-- 
--================================================================

-- 初始化时创建
init_config = {
	suite = 1,
	end_suite = 0,
	rand_suite = false
}

--================================================================
-- 
-- 小组配置
-- 
--================================================================

suites = {
	{
		-- suite_id = 1,
		-- description = ,
		monsters = { },
		gadgets = { },
		regions = { },
		triggers = { },
		rand_weight = 100
	},
	{
		-- suite_id = 2,
		-- description = ,
		monsters = { 152017, 152018, 152021, 152022, 152023 },
		gadgets = { 152001, 152002, 152003, 152004, 152005, 152006, 152012, 152014, 152020, 152027, 152028, 152029, 152030, 152031, 152032, 152034, 152035, 152036, 152037 },
		regions = { },
		triggers = { "ANY_GADGET_DIE_152024", "ANY_GADGET_DIE_152025", "ANY_GADGET_DIE_152026", "QUEST_FINISH_152038" },
		rand_weight = 100
	}
}

--================================================================
-- 
-- 触发器
-- 
--================================================================

-- 触发条件
function condition_EVENT_ANY_GADGET_DIE_152024(context, evt)
	if 152008 ~= evt.param1 then
		return false
	end
	
	return true
end

-- 触发操作
function action_EVENT_ANY_GADGET_DIE_152024(context, evt)
	-- 通知任务系统完成条件类型"LUA通知"，复杂参数为quest_param的进度+1
	if 0 ~= ScriptLib.AddQuestProgress(context, "7213908_finish") then
		ScriptLib.PrintContextLog(context, "@@ LUA_WARNING : add_quest_progress")
	  return -1
	end
	
	-- 针对当前group内变量名为 "quest_finish" 的变量，进行修改，变化值为 1
	if 0 ~= ScriptLib.ChangeGroupVariableValue(context, "quest_finish", 1) then
	  ScriptLib.PrintContextLog(context, "@@ LUA_WARNING : change_GroupVariable")
	  return -1
	end
	
	return 0
end

-- 触发条件
function condition_EVENT_ANY_GADGET_DIE_152025(context, evt)
	if 152019 ~= evt.param1 then
		return false
	end
	
	return true
end

-- 触发操作
function action_EVENT_ANY_GADGET_DIE_152025(context, evt)
	-- 通知任务系统完成条件类型"LUA通知"，复杂参数为quest_param的进度+1
	if 0 ~= ScriptLib.AddQuestProgress(context, "7213908_finish") then
		ScriptLib.PrintContextLog(context, "@@ LUA_WARNING : add_quest_progress")
	  return -1
	end
	
	-- 针对当前group内变量名为 "quest_finish" 的变量，进行修改，变化值为 1
	if 0 ~= ScriptLib.ChangeGroupVariableValue(context, "quest_finish", 1) then
	  ScriptLib.PrintContextLog(context, "@@ LUA_WARNING : change_GroupVariable")
	  return -1
	end
	
	return 0
end

-- 触发条件
function condition_EVENT_ANY_GADGET_DIE_152026(context, evt)
	if 152015 ~= evt.param1 then
		return false
	end
	
	return true
end

-- 触发操作
function action_EVENT_ANY_GADGET_DIE_152026(context, evt)
	-- 通知任务系统完成条件类型"LUA通知"，复杂参数为quest_param的进度+1
	if 0 ~= ScriptLib.AddQuestProgress(context, "7213908_finish") then
		ScriptLib.PrintContextLog(context, "@@ LUA_WARNING : add_quest_progress")
	  return -1
	end
	
	-- 针对当前group内变量名为 "quest_finish" 的变量，进行修改，变化值为 1
	if 0 ~= ScriptLib.ChangeGroupVariableValue(context, "quest_finish", 1) then
	  ScriptLib.PrintContextLog(context, "@@ LUA_WARNING : change_GroupVariable")
	  return -1
	end
	
	return 0
end