-- 基础信息
local base_info = {
	group_id = 133001587
}

--================================================================
-- 
-- 配置
-- 
--================================================================

-- 怪物
monsters = {
}

-- NPC
npcs = {
}

-- 装置
gadgets = {
	{ config_id = 587001, gadget_id = 70360137, pos = { x = 2016.965, y = 379.336, z = -1239.760 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 2 },
	{ config_id = 587002, gadget_id = 70360137, pos = { x = 2041.249, y = 379.117, z = -1259.186 }, rot = { x = 348.622, y = 22.106, z = 0.318 }, level = 1, start_route = false, area_id = 2 },
	{ config_id = 587003, gadget_id = 70360143, pos = { x = 2041.936, y = 376.539, z = -1258.006 }, rot = { x = 348.622, y = 22.106, z = 0.318 }, level = 1, route_id = 300100288, start_route = false, area_id = 2 },
	{ config_id = 587004, gadget_id = 70360137, pos = { x = 2042.704, y = 373.872, z = -1256.508 }, rot = { x = 348.622, y = 22.106, z = 0.318 }, level = 1, start_route = false, area_id = 2 },
	{ config_id = 587005, gadget_id = 70360137, pos = { x = 2044.243, y = 371.384, z = -1254.399 }, rot = { x = 348.622, y = 22.106, z = 0.318 }, level = 1, start_route = false, area_id = 2 },
	{ config_id = 587006, gadget_id = 70360138, pos = { x = 2019.270, y = 394.896, z = -1254.215 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, route_id = 300100304, start_route = false, area_id = 2 },
	{ config_id = 587007, gadget_id = 70360137, pos = { x = 2017.203, y = 381.063, z = -1242.385 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 2 },
	{ config_id = 587008, gadget_id = 70360137, pos = { x = 2020.437, y = 394.896, z = -1253.573 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, route_id = 300100304, start_route = false, area_id = 2 },
	{ config_id = 587009, gadget_id = 70360137, pos = { x = 2018.105, y = 394.896, z = -1253.612 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, route_id = 300100304, start_route = false, area_id = 2 },
	{ config_id = 587010, gadget_id = 70360137, pos = { x = 2019.259, y = 394.896, z = -1255.393 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, route_id = 300100304, start_route = false, area_id = 2 },
	{ config_id = 587012, gadget_id = 70360137, pos = { x = 2028.880, y = 382.673, z = -1289.275 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 2 },
	{ config_id = 587013, gadget_id = 70360137, pos = { x = 2028.793, y = 382.186, z = -1291.432 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 2 },
	{ config_id = 587014, gadget_id = 70360137, pos = { x = 2018.779, y = 385.023, z = -1270.175 }, rot = { x = 348.622, y = 22.106, z = 0.318 }, level = 1, start_route = false, area_id = 2 },
	{ config_id = 587015, gadget_id = 70360143, pos = { x = 2011.790, y = 378.288, z = -1269.514 }, rot = { x = 348.622, y = 22.106, z = 0.318 }, level = 1, start_route = false, area_id = 2 },
	{ config_id = 587016, gadget_id = 70360137, pos = { x = 2009.086, y = 377.558, z = -1271.676 }, rot = { x = 348.622, y = 22.106, z = 0.318 }, level = 1, start_route = false, area_id = 2 },
	{ config_id = 587017, gadget_id = 70360137, pos = { x = 2006.543, y = 377.001, z = -1269.888 }, rot = { x = 348.622, y = 22.106, z = 0.318 }, level = 1, start_route = false, area_id = 2 },
	{ config_id = 587018, gadget_id = 70360143, pos = { x = 2014.271, y = 381.406, z = -1269.242 }, rot = { x = 348.622, y = 22.106, z = 0.318 }, level = 1, start_route = false, area_id = 2 },
	{ config_id = 587019, gadget_id = 70360137, pos = { x = 2017.466, y = 383.214, z = -1268.761 }, rot = { x = 348.622, y = 22.106, z = 0.318 }, level = 1, start_route = false, area_id = 2 },
	{ config_id = 587020, gadget_id = 70360137, pos = { x = 2028.666, y = 381.565, z = -1293.396 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 2 },
	{ config_id = 587021, gadget_id = 70360137, pos = { x = 2029.396, y = 385.845, z = -1278.850 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 2 },
	{ config_id = 587022, gadget_id = 70360137, pos = { x = 2029.309, y = 385.358, z = -1281.007 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 2 },
	{ config_id = 587023, gadget_id = 70360137, pos = { x = 2029.182, y = 384.738, z = -1282.971 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 2 },
	{ config_id = 587024, gadget_id = 70360137, pos = { x = 2028.567, y = 381.020, z = -1295.530 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 2 },
	{ config_id = 587025, gadget_id = 70360137, pos = { x = 2029.083, y = 384.192, z = -1285.105 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 2 },
	{ config_id = 587026, gadget_id = 70360143, pos = { x = 2029.458, y = 387.415, z = -1274.847 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, route_id = 300100288, start_route = false, area_id = 2 },
	{ config_id = 587027, gadget_id = 70360137, pos = { x = 2029.495, y = 386.412, z = -1276.716 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 2 },
	{ config_id = 587028, gadget_id = 70360137, pos = { x = 2018.159, y = 388.165, z = -1250.232 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 2 },
	{ config_id = 587029, gadget_id = 70360137, pos = { x = 2028.979, y = 383.240, z = -1287.141 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 2 },
	{ config_id = 587030, gadget_id = 70360143, pos = { x = 2019.270, y = 390.873, z = -1254.215 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, route_id = 300100304, area_id = 2 },
	{ config_id = 587031, gadget_id = 70360137, pos = { x = 2018.263, y = 382.982, z = -1244.185 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 2 },
	{ config_id = 587032, gadget_id = 70360137, pos = { x = 2017.319, y = 384.710, z = -1246.636 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 2 },
	{ config_id = 587033, gadget_id = 70360137, pos = { x = 2019.817, y = 386.437, z = -1248.183 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 2 },
	{ config_id = 587034, gadget_id = 70360137, pos = { x = 2019.043, y = 389.892, z = -1251.841 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 2 },
	{ config_id = 587035, gadget_id = 70360138, pos = { x = 2029.519, y = 393.235, z = -1274.878 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, route_id = 300100304, start_route = false, area_id = 2 },
	{ config_id = 587036, gadget_id = 70360137, pos = { x = 2029.508, y = 393.235, z = -1276.056 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, route_id = 300100304, start_route = false, area_id = 2 },
	{ config_id = 587037, gadget_id = 70360137, pos = { x = 2028.354, y = 393.235, z = -1274.275 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, route_id = 300100304, start_route = false, area_id = 2 },
	{ config_id = 587038, gadget_id = 70360137, pos = { x = 2030.686, y = 393.235, z = -1274.236 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, route_id = 300100304, start_route = false, area_id = 2 },
	{ config_id = 587040, gadget_id = 70360137, pos = { x = 2044.277, y = 387.077, z = -1253.964 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 2 },
	{ config_id = 587041, gadget_id = 70360137, pos = { x = 2043.949, y = 386.590, z = -1259.640 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 2 },
	{ config_id = 587042, gadget_id = 70360137, pos = { x = 2039.812, y = 385.969, z = -1259.351 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 2 },
	{ config_id = 587043, gadget_id = 70360137, pos = { x = 2040.125, y = 387.644, z = -1253.096 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 2 }
}

-- 区域
regions = {
}

-- 触发器
triggers = {
	{ config_id = 1587011, name = "GADGET_STATE_CHANGE_587011", event = EventType.EVENT_GADGET_STATE_CHANGE, source = "", condition = "condition_EVENT_GADGET_STATE_CHANGE_587011", action = "action_EVENT_GADGET_STATE_CHANGE_587011" },
	{ config_id = 1587039, name = "GADGET_STATE_CHANGE_587039", event = EventType.EVENT_GADGET_STATE_CHANGE, source = "", condition = "condition_EVENT_GADGET_STATE_CHANGE_587039", action = "action_EVENT_GADGET_STATE_CHANGE_587039" }
}

-- 变量
variables = {
}

--================================================================
-- 
-- 初始化配置
-- 
--================================================================

-- 初始化时创建
init_config = {
	suite = 1,
	end_suite = 0,
	rand_suite = false
}

--================================================================
-- 
-- 小组配置
-- 
--================================================================

suites = {
	{
		-- suite_id = 1,
		-- description = ,
		monsters = { },
		gadgets = { },
		regions = { },
		triggers = { },
		rand_weight = 100
	},
	{
		-- suite_id = 2,
		-- description = ,
		monsters = { },
		gadgets = { 587002, 587003, 587004, 587005, 587006, 587008, 587009, 587010, 587014, 587015, 587016, 587017, 587018, 587019, 587035, 587036, 587037, 587038, 587040, 587041, 587042, 587043 },
		regions = { },
		triggers = { "GADGET_STATE_CHANGE_587011", "GADGET_STATE_CHANGE_587039" },
		rand_weight = 100
	},
	{
		-- suite_id = 3,
		-- description = ,
		monsters = { },
		gadgets = { 587001, 587007, 587028, 587030, 587031, 587032, 587033, 587034 },
		regions = { },
		triggers = { },
		rand_weight = 100
	},
	{
		-- suite_id = 4,
		-- description = ,
		monsters = { },
		gadgets = { 587012, 587013, 587020, 587021, 587022, 587023, 587024, 587025, 587026, 587027, 587029 },
		regions = { },
		triggers = { },
		rand_weight = 100
	}
}

--================================================================
-- 
-- 触发器
-- 
--================================================================

-- 触发条件
function condition_EVENT_GADGET_STATE_CHANGE_587011(context, evt)
	if 587035 ~= evt.param2 or GadgetState.GearStart ~= evt.param1 then
		return false
	end
	
	return true
end

-- 触发操作
function action_EVENT_GADGET_STATE_CHANGE_587011(context, evt)
	-- 添加suite4的新内容
	    ScriptLib.AddExtraGroupSuite(context, 133001587, 4)
	
	return 0
end

-- 触发条件
function condition_EVENT_GADGET_STATE_CHANGE_587039(context, evt)
	if 587006 ~= evt.param2 or GadgetState.GearStart ~= evt.param1 then
		return false
	end
	
	return true
end

-- 触发操作
function action_EVENT_GADGET_STATE_CHANGE_587039(context, evt)
	-- 添加suite3的新内容
	    ScriptLib.AddExtraGroupSuite(context, 133001587, 3)
	
	return 0
end