-- 基础信息
local base_info = {
	group_id = 133105296
}

--================================================================
-- 
-- 配置
-- 
--================================================================

-- 怪物
monsters = {
}

-- NPC
npcs = {
}

-- 装置
gadgets = {
	{ config_id = 296001, gadget_id = 70310015, pos = { x = 830.948, y = 291.519, z = -935.122 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, state = GadgetState.GearStart, area_id = 10 },
	{ config_id = 296002, gadget_id = 70310015, pos = { x = 827.924, y = 291.752, z = -938.707 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, state = GadgetState.GearStart, area_id = 10 },
	{ config_id = 296014, gadget_id = 70350007, pos = { x = 793.482, y = 285.253, z = -908.954 }, rot = { x = 0.000, y = 300.696, z = 0.000 }, level = 1, area_id = 10 },
	{ config_id = 296015, gadget_id = 70350007, pos = { x = 791.797, y = 285.164, z = -912.765 }, rot = { x = 0.000, y = 287.260, z = 0.000 }, level = 1, area_id = 10 },
	{ config_id = 296016, gadget_id = 70350007, pos = { x = 791.439, y = 285.674, z = -916.696 }, rot = { x = 0.000, y = 267.170, z = 0.000 }, level = 1, area_id = 10 },
	{ config_id = 296017, gadget_id = 70300100, pos = { x = 799.483, y = 287.019, z = -920.122 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 10 },
	{ config_id = 296018, gadget_id = 70300100, pos = { x = 801.421, y = 287.198, z = -919.406 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 10 },
	{ config_id = 296019, gadget_id = 70300100, pos = { x = 800.681, y = 287.521, z = -921.610 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 10 },
	{ config_id = 296021, gadget_id = 70300086, pos = { x = 815.430, y = 289.017, z = -912.248 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 10 },
	{ config_id = 296022, gadget_id = 70300086, pos = { x = 820.832, y = 289.060, z = -917.361 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 10 },
	{ config_id = 296023, gadget_id = 70300108, pos = { x = 802.926, y = 287.642, z = -909.407 }, rot = { x = 0.000, y = 11.419, z = 0.000 }, level = 1, area_id = 10 },
	{ config_id = 296025, gadget_id = 70300108, pos = { x = 802.532, y = 287.392, z = -910.860 }, rot = { x = 0.000, y = 11.419, z = 0.000 }, level = 1, area_id = 10 },
	{ config_id = 296026, gadget_id = 70300108, pos = { x = 802.237, y = 287.256, z = -912.414 }, rot = { x = 0.000, y = 11.419, z = 0.000 }, level = 1, area_id = 10 },
	{ config_id = 296027, gadget_id = 70220013, pos = { x = 810.636, y = 289.805, z = -905.514 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 10 },
	{ config_id = 296029, gadget_id = 70220013, pos = { x = 812.473, y = 289.626, z = -906.198 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 10 },
	{ config_id = 296030, gadget_id = 70220013, pos = { x = 810.536, y = 289.328, z = -907.216 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 10 },
	{ config_id = 296031, gadget_id = 70310019, pos = { x = 805.430, y = 287.764, z = -923.124 }, rot = { x = 0.000, y = 296.933, z = 0.000 }, level = 1, area_id = 10 },
	{ config_id = 296033, gadget_id = 70220014, pos = { x = 792.979, y = 286.678, z = -919.040 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 10 },
	{ config_id = 296034, gadget_id = 70220014, pos = { x = 792.150, y = 286.736, z = -919.569 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 10 },
	{ config_id = 296035, gadget_id = 70220014, pos = { x = 793.942, y = 286.788, z = -919.289 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 10 },
	{ config_id = 296041, gadget_id = 70310015, pos = { x = 806.708, y = 288.533, z = -908.845 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 10 },
	{ config_id = 296042, gadget_id = 70310015, pos = { x = 805.835, y = 287.440, z = -914.081 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 10 },
	{ config_id = 296043, gadget_id = 70300091, pos = { x = 796.493, y = 286.372, z = -910.278 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 10 }
}

-- 区域
regions = {
}

-- 触发器
triggers = {
	{ config_id = 1296003, name = "QUEST_START_296003", event = EventType.EVENT_QUEST_START, source = "4121214", condition = "", action = "action_EVENT_QUEST_START_296003" }
}

-- 变量
variables = {
	{ config_id = 1, name = "GroupCompletion", value = 0, no_refresh = false }
}

--================================================================
-- 
-- 初始化配置
-- 
--================================================================

-- 初始化时创建
init_config = {
	suite = 2,
	end_suite = 0,
	rand_suite = false
}

--================================================================
-- 
-- 小组配置
-- 
--================================================================

suites = {
	{
		-- suite_id = 1,
		-- description = ,
		monsters = { },
		gadgets = { },
		regions = { },
		triggers = { },
		rand_weight = 100
	},
	{
		-- suite_id = 2,
		-- description = 开关suite,
		monsters = { },
		gadgets = { 296001, 296002, 296014, 296015, 296016, 296017, 296018, 296019, 296021, 296022, 296023, 296025, 296026, 296027, 296029, 296030, 296031, 296033, 296034, 296035, 296041, 296042, 296043 },
		regions = { },
		triggers = { "QUEST_START_296003" },
		rand_weight = 100
	},
	{
		-- suite_id = 3,
		-- description = 战斗suite,
		monsters = { },
		gadgets = { },
		regions = { },
		triggers = { },
		rand_weight = 100
	},
	{
		-- suite_id = 4,
		-- description = GadgetSuite,
		monsters = { },
		gadgets = { },
		regions = { },
		triggers = { },
		rand_weight = 100
	},
	{
		-- suite_id = 5,
		-- description = 增援Suite,
		monsters = { },
		gadgets = { },
		regions = { },
		triggers = { },
		rand_weight = 100
	},
	{
		-- suite_id = 6,
		-- description = 增援Suite2,
		monsters = { },
		gadgets = { },
		regions = { },
		triggers = { },
		rand_weight = 100
	}
}

--================================================================
-- 
-- 触发器
-- 
--================================================================

-- 触发操作
function action_EVENT_QUEST_START_296003(context, evt)
	-- 改变指定group组133105296中， configid为296001的gadget的state
	if 0 ~= ScriptLib.SetGroupGadgetStateByConfigId(context, 133105296, 296001, GadgetState.Default) then
	      ScriptLib.PrintContextLog(context, "@@ LUA_WARNING : set_gadget_state_by_GroupId_ConfigId")
			return -1
		end 
	
	-- 改变指定group组133105296中， configid为296002的gadget的state
	if 0 ~= ScriptLib.SetGroupGadgetStateByConfigId(context, 133105296, 296002, GadgetState.Default) then
	      ScriptLib.PrintContextLog(context, "@@ LUA_WARNING : set_gadget_state_by_GroupId_ConfigId")
			return -1
		end 
	
	return 0
end