-- 基础信息
local base_info = {
	group_id = 133004455
}

--================================================================
-- 
-- 配置
-- 
--================================================================

-- 怪物
monsters = {
}

-- NPC
npcs = {
}

-- 装置
gadgets = {
	{ config_id = 455001, gadget_id = 70360137, pos = { x = 2784.594, y = 389.003, z = 8.565 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 4 },
	{ config_id = 455002, gadget_id = 70360137, pos = { x = 2784.598, y = 387.232, z = 8.451 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 4 },
	{ config_id = 455003, gadget_id = 70360137, pos = { x = 2784.583, y = 390.773, z = 8.513 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 4 },
	{ config_id = 455004, gadget_id = 70360137, pos = { x = 2786.170, y = 394.100, z = 8.163 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 4 },
	{ config_id = 455005, gadget_id = 70360137, pos = { x = 2784.057, y = 394.100, z = 10.077 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 4 },
	{ config_id = 455006, gadget_id = 70360137, pos = { x = 2783.447, y = 394.100, z = 7.275 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 4 },
	{ config_id = 455007, gadget_id = 70690021, pos = { x = 2786.371, y = 388.525, z = 7.302 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 4 },
	{ config_id = 455008, gadget_id = 70690021, pos = { x = 2782.262, y = 390.765, z = 9.926 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 4 },
	{ config_id = 455010, gadget_id = 70360137, pos = { x = 2764.982, y = 389.647, z = 22.972 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 4 },
	{ config_id = 455011, gadget_id = 70360137, pos = { x = 2768.038, y = 389.647, z = 22.686 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 4 },
	{ config_id = 455012, gadget_id = 70360137, pos = { x = 2766.752, y = 389.647, z = 25.418 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 4 },
	{ config_id = 455013, gadget_id = 70360137, pos = { x = 2762.155, y = 378.787, z = -5.305 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 4 },
	{ config_id = 455014, gadget_id = 70360137, pos = { x = 2752.637, y = 378.152, z = 26.277 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 4 },
	{ config_id = 455015, gadget_id = 70360137, pos = { x = 2751.405, y = 378.152, z = 23.763 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 4 },
	{ config_id = 455016, gadget_id = 70360137, pos = { x = 2754.128, y = 378.152, z = 24.008 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 4 },
	{ config_id = 455017, gadget_id = 70360137, pos = { x = 2751.255, y = 378.152, z = 25.238 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 4 },
	{ config_id = 455018, gadget_id = 70360137, pos = { x = 2752.821, y = 378.152, z = 22.993 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 4 },
	{ config_id = 455022, gadget_id = 70360137, pos = { x = 2784.594, y = 383.776, z = 8.565 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 4 },
	{ config_id = 455026, gadget_id = 70360137, pos = { x = 2784.589, y = 380.235, z = 8.380 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 4 },
	{ config_id = 455027, gadget_id = 70360137, pos = { x = 2784.598, y = 382.005, z = 8.451 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 4 },
	{ config_id = 455028, gadget_id = 70360137, pos = { x = 2784.583, y = 385.546, z = 8.513 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 4 },
	{ config_id = 455030, gadget_id = 70690021, pos = { x = 2752.723, y = 378.152, z = 24.592 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 4 },
	{ config_id = 455031, gadget_id = 70360137, pos = { x = 2754.066, y = 378.286, z = 25.594 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 4 },
	{ config_id = 455032, gadget_id = 70360137, pos = { x = 2757.074, y = 381.100, z = 25.886 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 4 },
	{ config_id = 455033, gadget_id = 70360137, pos = { x = 2759.310, y = 382.584, z = 26.250 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 4 },
	{ config_id = 455034, gadget_id = 70360137, pos = { x = 2762.007, y = 384.069, z = 26.733 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 4 },
	{ config_id = 455036, gadget_id = 70690021, pos = { x = 2783.232, y = 383.776, z = 6.747 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 4 },
	{ config_id = 455037, gadget_id = 70690021, pos = { x = 2787.233, y = 380.807, z = 6.810 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 4 },
	{ config_id = 455038, gadget_id = 70690021, pos = { x = 2785.062, y = 378.867, z = 11.352 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 4 },
	{ config_id = 455041, gadget_id = 70360138, pos = { x = 2784.583, y = 394.100, z = 8.513 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 4 },
	{ config_id = 455044, gadget_id = 70360137, pos = { x = 2768.488, y = 380.824, z = -3.911 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 4 },
	{ config_id = 455045, gadget_id = 70360137, pos = { x = 2763.853, y = 382.309, z = 0.639 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 4 },
	{ config_id = 455046, gadget_id = 70360137, pos = { x = 2769.807, y = 383.793, z = 0.629 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 4 },
	{ config_id = 455047, gadget_id = 70360137, pos = { x = 2765.580, y = 385.277, z = 5.894 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 4 },
	{ config_id = 455052, gadget_id = 70360138, pos = { x = 2766.528, y = 389.647, z = 23.637 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, start_route = false, area_id = 4 }
}

-- 区域
regions = {
}

-- 触发器
triggers = {
	{ config_id = 1455053, name = "GADGET_STATE_CHANGE_455053", event = EventType.EVENT_GADGET_STATE_CHANGE, source = "", condition = "condition_EVENT_GADGET_STATE_CHANGE_455053", action = "action_EVENT_GADGET_STATE_CHANGE_455053" },
	{ config_id = 1455054, name = "GADGET_STATE_CHANGE_455054", event = EventType.EVENT_GADGET_STATE_CHANGE, source = "", condition = "condition_EVENT_GADGET_STATE_CHANGE_455054", action = "action_EVENT_GADGET_STATE_CHANGE_455054" }
}

-- 变量
variables = {
}

--================================================================
-- 
-- 初始化配置
-- 
--================================================================

-- 初始化时创建
init_config = {
	suite = 1,
	end_suite = 0,
	rand_suite = false
}

--================================================================
-- 
-- 小组配置
-- 
--================================================================

suites = {
	{
		-- suite_id = 1,
		-- description = ,
		monsters = { },
		gadgets = { },
		regions = { },
		triggers = { },
		rand_weight = 100
	},
	{
		-- suite_id = 2,
		-- description = ,
		monsters = { },
		gadgets = { 455004, 455005, 455006, 455010, 455011, 455012, 455013, 455041, 455044, 455045, 455046, 455047, 455052 },
		regions = { },
		triggers = { "GADGET_STATE_CHANGE_455053", "GADGET_STATE_CHANGE_455054" },
		rand_weight = 100
	},
	{
		-- suite_id = 3,
		-- description = ,
		monsters = { },
		gadgets = { 455001, 455002, 455003, 455007, 455008, 455022, 455026, 455027, 455028, 455036, 455037, 455038 },
		regions = { },
		triggers = { },
		rand_weight = 100
	},
	{
		-- suite_id = 4,
		-- description = ,
		monsters = { },
		gadgets = { 455014, 455015, 455016, 455017, 455018, 455030, 455031, 455032, 455033, 455034 },
		regions = { },
		triggers = { },
		rand_weight = 100
	}
}

--================================================================
-- 
-- 触发器
-- 
--================================================================

-- 触发条件
function condition_EVENT_GADGET_STATE_CHANGE_455053(context, evt)
	if 455041 ~= evt.param2 or GadgetState.GearStart ~= evt.param1 then
		return false
	end
	
	return true
end

-- 触发操作
function action_EVENT_GADGET_STATE_CHANGE_455053(context, evt)
	-- 添加suite3的新内容
	    ScriptLib.AddExtraGroupSuite(context, 133004455, 3)
	
	return 0
end

-- 触发条件
function condition_EVENT_GADGET_STATE_CHANGE_455054(context, evt)
	if 455052 ~= evt.param2 or GadgetState.GearStart ~= evt.param1 then
		return false
	end
	
	return true
end

-- 触发操作
function action_EVENT_GADGET_STATE_CHANGE_455054(context, evt)
	-- 添加suite4的新内容
	    ScriptLib.AddExtraGroupSuite(context, 133004455, 4)
	
	return 0
end