-- 基础信息
local base_info = {
	group_id = 166001248
}

--================================================================
-- 
-- 配置
-- 
--================================================================

-- 怪物
monsters = {
}

-- NPC
npcs = {
	-- Room_1
	{ config_id = 248001, npc_id = 12462, pos = { x = 452.293, y = 475.669, z = 440.166 }, rot = { x = 0.000, y = 74.558, z = 0.000 }, area_id = 300 },
	-- Room_1
	{ config_id = 248002, npc_id = 12463, pos = { x = 454.954, y = 475.647, z = 439.560 }, rot = { x = 0.000, y = 293.388, z = 0.000 }, area_id = 300 },
	-- Room_1
	{ config_id = 248003, npc_id = 12464, pos = { x = 453.473, y = 475.631, z = 438.773 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, area_id = 300 },
	-- Room_2
	{ config_id = 248004, npc_id = 12465, pos = { x = 535.341, y = 475.253, z = 535.916 }, rot = { x = 0.000, y = 208.383, z = 0.000 }, area_id = 300 },
	-- Room_2
	{ config_id = 248005, npc_id = 12466, pos = { x = 536.238, y = 475.303, z = 532.913 }, rot = { x = 0.000, y = 320.481, z = 0.000 }, area_id = 300 },
	-- Room_3
	{ config_id = 248006, npc_id = 12467, pos = { x = 434.271, y = 485.801, z = 594.514 }, rot = { x = 0.000, y = 102.483, z = 0.000 }, area_id = 300 },
	-- Room_3
	{ config_id = 248007, npc_id = 12468, pos = { x = 436.492, y = 486.023, z = 595.409 }, rot = { x = 0.000, y = 182.882, z = 0.000 }, area_id = 300 },
	-- Room_3
	{ config_id = 248008, npc_id = 12469, pos = { x = 439.072, y = 485.881, z = 595.382 }, rot = { x = 0.000, y = 233.830, z = 0.000 }, area_id = 300 },
	-- Room_4
	{ config_id = 248009, npc_id = 12470, pos = { x = 404.177, y = 485.801, z = 500.838 }, rot = { x = 0.000, y = 59.857, z = 0.000 }, area_id = 300 },
	-- Room_4
	{ config_id = 248010, npc_id = 12471, pos = { x = 406.177, y = 485.848, z = 501.112 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, area_id = 300 },
	-- Room_1
	{ config_id = 248012, npc_id = 12472, pos = { x = 452.293, y = 475.669, z = 440.166 }, rot = { x = 0.000, y = 74.558, z = 0.000 }, area_id = 300 },
	-- Room_1
	{ config_id = 248013, npc_id = 12473, pos = { x = 454.954, y = 475.647, z = 439.560 }, rot = { x = 0.000, y = 293.388, z = 0.000 }, area_id = 300 },
	-- Room_1
	{ config_id = 248014, npc_id = 12474, pos = { x = 453.473, y = 475.631, z = 438.773 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, area_id = 300 },
	-- Room_2
	{ config_id = 248015, npc_id = 12475, pos = { x = 535.341, y = 475.253, z = 535.916 }, rot = { x = 0.000, y = 208.383, z = 0.000 }, area_id = 300 },
	-- Room_2
	{ config_id = 248016, npc_id = 12476, pos = { x = 536.238, y = 475.303, z = 532.913 }, rot = { x = 0.000, y = 320.481, z = 0.000 }, area_id = 300 },
	-- Room_3
	{ config_id = 248017, npc_id = 12477, pos = { x = 434.271, y = 485.801, z = 594.514 }, rot = { x = 0.000, y = 102.483, z = 0.000 }, area_id = 300 },
	-- Room_3
	{ config_id = 248018, npc_id = 12478, pos = { x = 436.492, y = 486.023, z = 595.409 }, rot = { x = 0.000, y = 182.882, z = 0.000 }, area_id = 300 },
	-- Room_3
	{ config_id = 248019, npc_id = 12479, pos = { x = 439.072, y = 485.881, z = 595.382 }, rot = { x = 0.000, y = 233.830, z = 0.000 }, area_id = 300 },
	-- Room_4
	{ config_id = 248020, npc_id = 12480, pos = { x = 404.177, y = 485.801, z = 500.838 }, rot = { x = 0.000, y = 59.857, z = 0.000 }, area_id = 300 },
	-- Room_4
	{ config_id = 248021, npc_id = 12481, pos = { x = 406.177, y = 485.848, z = 501.112 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, area_id = 300 }
}

-- 装置
gadgets = {
	-- Room_1_1_右
	{ config_id = 248023, gadget_id = 70710741, pos = { x = 452.075, y = 475.419, z = 440.368 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 300 },
	-- Room_1_2_左
	{ config_id = 248024, gadget_id = 70710741, pos = { x = 454.959, y = 475.515, z = 439.487 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 300 },
	-- Room_1_3_中
	{ config_id = 248025, gadget_id = 70710741, pos = { x = 453.334, y = 475.381, z = 438.723 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 300 },
	-- Room_2_1_左
	{ config_id = 248026, gadget_id = 70710741, pos = { x = 535.348, y = 475.003, z = 535.942 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 300 },
	-- Room_2_2_右
	{ config_id = 248027, gadget_id = 70710741, pos = { x = 536.040, y = 475.053, z = 532.810 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 300 },
	-- Room_3_1_左
	{ config_id = 248028, gadget_id = 70710741, pos = { x = 434.042, y = 485.551, z = 594.724 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 300 },
	-- Room_3_2_中
	{ config_id = 248029, gadget_id = 70710741, pos = { x = 436.675, y = 485.773, z = 595.578 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 300 },
	-- Room_3_3_右
	{ config_id = 248030, gadget_id = 70710741, pos = { x = 439.420, y = 485.631, z = 595.290 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 300 },
	-- Room_4_1_右
	{ config_id = 248031, gadget_id = 70710741, pos = { x = 403.930, y = 485.551, z = 501.022 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 300 },
	-- Room_4_2_左
	{ config_id = 248032, gadget_id = 70710741, pos = { x = 405.985, y = 485.598, z = 500.820 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 300 },
	-- Room_2_1_左
	{ config_id = 248033, gadget_id = 70710740, pos = { x = 535.348, y = 475.003, z = 535.942 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 300 },
	-- Room_3_2_中
	{ config_id = 248034, gadget_id = 70710740, pos = { x = 436.675, y = 485.773, z = 595.578 }, rot = { x = 0.000, y = 0.000, z = 0.000 }, level = 1, area_id = 300 }
}

-- 区域
regions = {
}

-- 触发器
triggers = {
	{ config_id = 1248011, name = "QUEST_START_248011", event = EventType.EVENT_QUEST_START, source = "800708", condition = "", action = "action_EVENT_QUEST_START_248011" }
}

-- 变量
variables = {
}

-- 废弃数据
garbages = {
	triggers = {
		{ config_id = 1248022, name = "QUEST_FINISH_248022", event = EventType.EVENT_QUEST_FINISH, source = "800708", condition = "", action = "action_EVENT_QUEST_FINISH_248022", trigger_count = 0 }
	}
}

--================================================================
-- 
-- 初始化配置
-- 
--================================================================

-- 初始化时创建
init_config = {
	suite = 1,
	end_suite = 0,
	rand_suite = false
}

--================================================================
-- 
-- 小组配置
-- 
--================================================================

suites = {
	{
		-- suite_id = 1,
		-- description = ,
		monsters = { },
		gadgets = { 248033, 248034 },
		regions = { },
		triggers = { "QUEST_START_248011" },
		npcs = { 248001, 248002, 248003, 248004, 248005, 248006, 248007, 248008, 248009, 248010 },
		rand_weight = 100
	},
	{
		-- suite_id = 2,
		-- description = ,
		monsters = { },
		gadgets = { 248023, 248024, 248025, 248026, 248027, 248028, 248029, 248030, 248031, 248032 },
		regions = { },
		triggers = { },
		npcs = { 248012, 248013, 248014, 248015, 248016, 248017, 248018, 248019, 248020, 248021 },
		rand_weight = 100
	}
}

--================================================================
-- 
-- 触发器
-- 
--================================================================

-- 触发操作
function action_EVENT_QUEST_START_248011(context, evt)
		-- 重新生成指定group，指定suite
		if 0 ~= ScriptLib.RefreshGroup(context, { group_id = 166001248, suite = 2 }) then
	    ScriptLib.PrintContextLog(context, "@@ LUA_WARNING : refresh_group_to_suite")
			return -1
		end
	
	return 0
end